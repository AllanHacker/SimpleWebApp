<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="wang.store.cart.CartMapper">
	
	<!-- 新增購物車 Integer insert(Cart cart) -->
	<insert id="insert" parameterType="wang.store.cart.Cart">
		INSERT INTO cart(
			user_id,
			product_id,
			product_name,
			product_category_id,
			product_price,
			product_number,
			product_image
		) 
		VALUES(
			#{userId},
			#{productId},
			#{productName},
			#{productCategoryId},
			#{productPrice},
			#{productNumber},
			#{productImage}
		);
	</insert>
	
	<!-- 以會員id查詢購物車 List<Cart> findCartByUserId(Integer userId) -->
	<select id="findCartByUserId" resultType="wang.store.cart.Cart">
		SELECT
			id,
			user_id AS userId,
			product_id AS productId,
			product_name AS productName,
			product_category_id AS productCategoryId,
			product_price AS productPrice,
			product_number AS productNumber,
			product_image AS productImage
		FROM
			cart
		WHERE
			user_id=#{userId}
	</select>
</mapper>







